<header>
  <app-header-admin></app-header-admin>
</header>

<div class="container mt-5">
  <!-- Pestañas de navegación -->
  <ul class="nav nav-tabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link" [class.active]="activeTab === 'crear'" (click)="setActiveTab('crear')" role="tab">Crear/Modificar Empleado</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [class.active]="activeTab === 'lista'" (click)="setActiveTab('lista')" role="tab">Lista de Empleados</a>
    </li>
  </ul>

  <!-- Contenido de las pestañas -->
  <div class="tab-content mt-3">
    <!-- Contenido de la pestaña Crear/Modificar Empleado -->
    <div *ngIf="activeTab === 'crear'" class="tab-pane active">
      <h2 class="mb-4">Crear/Modificar Empleado</h2>

      <!-- Formulario de creación/modificación de empleados -->
      <form [formGroup]="adminForm" (ngSubmit)="createEmpleado()">
        <div class="form-group mb-3">
          <label for="usuario">Usuario</label>
          <input formControlName="usuario" id="usuario" class="form-control" placeholder="Usuario" />
        </div>

        <div class="form-group mb-3">
          <label for="password">Contraseña</label>
          <input type="password" formControlName="password" id="password" class="form-control" placeholder="Contraseña" />
        </div>

        <div class="form-group mb-3">
          <label for="cedula">Cédula</label>
          <input formControlName="cedula" id="cedula" class="form-control" placeholder="Cédula" />
        </div>

        <div class="form-group mb-3">
          <label for="nombre">Nombre</label>
          <input formControlName="nombre" id="nombre" class="form-control" placeholder="Nombre" />
        </div>

        <div class="form-group mb-3">
          <label for="apellido1">Primer Apellido</label>
          <input formControlName="apellido1" id="apellido1" class="form-control" placeholder="Primer Apellido" />
        </div>

        <div class="form-group mb-3">
          <label for="apellido2">Segundo Apellido</label>
          <input formControlName="apellido2" id="apellido2" class="form-control" placeholder="Segundo Apellido" />
        </div>

        <div class="form-group mb-3">
          <label for="provincia">Provincia</label>
          <input formControlName="provincia" id="provincia" class="form-control" placeholder="Provincia" />
        </div>

        <div class="form-group mb-3">
          <label for="canton">Cantón</label>
          <input formControlName="canton" id="canton" class="form-control" placeholder="Cantón" />
        </div>

        <div class="form-group mb-3">
          <label for="distrito">Distrito</label>
          <input formControlName="distrito" id="distrito" class="form-control" placeholder="Distrito" />
        </div>

        <!-- Telefonos dinámicos -->
        <div formArrayName="telefonos" class="mb-3">
          <label>Teléfonos</label>
          <div *ngFor="let telefono of telefonos.controls; let i = index" class="input-group mb-2">
            <input [formControlName]="i" class="form-control" placeholder="Teléfono" />
            <button type="button" class="btn btn-danger" (click)="removeTelefono(i)">Eliminar</button>
          </div>
        </div>

        <!-- Botón para agregar un nuevo teléfono -->
        <button type="button" class="btn btn-secondary mb-3" (click)="addTelefono()">Agregar Teléfono</button>

        <!-- Botón para enviar el formulario -->
        <div class="form-group text-center mt-4">
          <button type="submit" class="btn btn-primary btn-lg">Guardar</button>
        </div>
      </form>
    </div>

    <!-- Contenido de la pestaña Lista de Empleados -->
    <div *ngIf="activeTab === 'lista'" class="tab-pane active">
      <h2 class="mb-4">Lista de Empleados</h2>

      <!-- Contenedor de la lista de empleados con scroll si son muchos -->
      <div class="empleados-container">
        <!-- Recorre la lista de empleados y los muestra -->
        <div class="card mb-3" *ngFor="let empleado of empleados">
          <div class="card-body d-flex justify-content-between align-items-center">
            <div>
              <h5 class="card-title">{{ empleado.nombre }} {{ empleado.apellido1 }} {{ empleado.apellido2 }}</h5>
              <p class="card-text">Usuario: {{ empleado.usuario }}</p>
              <p class="card-text">Cédula: {{ empleado.cedula }}</p>
              <p class="card-text">Provincia: {{ empleado.provincia }}</p>
              <p class="card-text">Cantón: {{ empleado.canton }}</p>
              <p class="card-text">Distrito: {{ empleado.distrito }}</p>
              <p class="card-text">Teléfonos:</p>
              <ul>
                <li *ngFor="let telefono of empleado.telefonos">{{ telefono }}</li>
              </ul>

                          </div>
            <div>
              <button class="btn btn-warning me-2" (click)="editEmpleado(empleado)">Editar</button>
              <button class="btn btn-danger" (click)="deleteEmpleado(empleado.cedula)">Eliminar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
